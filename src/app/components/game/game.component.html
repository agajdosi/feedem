<!-- SOCIAL GRAPH -->
@if(graphData) {
    <graph-viewer
        [graphData]="graphData"
        [animate]="true"
        [highlightNode]="highlightUser"
        [highlightEdge]="highlightUsersConnection"
        [addNodes]="addGraphNodes"
        [addEdges]="addGraphEdges"
        [selectNode]="selectUser"
        [clearNodesHighlight]="clearUsersHighlight"
        [clearNodesSelection]="clearUserSelection"
        [clearEdgesHighlight]="clearConnectionsHighlight"
        [snapToNode]="snapToNode"
        [snapCenter]="snapToCenter"
        [layoutSettings]="graphLayoutSettings"
        [nodeRenderer]="renderNode"
        [edgeRenderer]="renderEdge"
        (graphInitialised)="graphUpdated($event)"
        (graphUpdated)="graphUpdated($event)"
    ></graph-viewer>
}

<!-- HEROS' PROFILE --> 
@if(game) {
    <div class="hero">
        @if(game.hero) {
            <app-user
                [user]="getUserById(game.hero)"
                [following]="userFollow(game.hero)"
                [followers]="userIsFollowed(game.hero)"
            ></app-user>
        }
    </div>
}

<!-- HEROS' FEED --> 
<app-feed></app-feed>

<!-- OVERLAYS -->
<div class="controls">
    
    @if (controllable) {
        <app-screensaver></app-screensaver>
        <qr-code [value]="getControllerLink()" (click)="openController()"></qr-code>
    }
    <footer>
        <app-footer></app-footer>
    </footer>
</div>
